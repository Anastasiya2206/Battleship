<!DOCTYPE html>
<html>
  <head>
    <title>Battleship</title>
    <link href="bootstrap/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <style type="text/css">
		td {
			width:50px;
			height:50px;
			-webkit-box-sizing: border-box;
		}

		tr:first-child > td, td:first-child {
			padding-left: 20px;
		}

		.tile:hover, .tile-hover, .placed-tile {
			background-color: lightgray;
			cursor:pointer;
		}

		table {
			padding:0;
			padding:0;
		}
    </style>
  </head>
  <body>
    <div class="container">
    	
      <h1>Welcome to battleship!</h1>
      
      <div id="game">
      <div class="row">
      	<div class="col-md-6">
      		<h3>Your board <span v-show="!ready" style="color:red;">Not ready</span><span v-else style="color:lightgreen;">Ready</span></h3>
        	<board :cols="10" :rows="10"></board>
        	 	
        </div>
        <div class="col-md-6">
        <h3>Opponent's board <span style="color:red;">Not ready</span></h3>
        	<opponent-board :cols="10" :rows="10"></board>   
        </div>
		</div>
        <div class="col-md-3">
        <h3>Your ships <button @click="rotated = !rotated" :disabled="ship.amount == 0" type="button" class="btn btn-default btn-xs">Rotate ship [{{rotated ? 'vertical' : 'horizontal'}}]</button></h3>
        <p v-for="ship in ships">{{ ship.type }} {{ ship.amount}}x <button @click="setSelectedShip(ship)" :disabled="ship.amount == 0" type="button" class="btn btn-default btn-xs">Select</button></p>
        </div>
      
      </div>
      <template id="board-template">
      		<table border="1">
	        	<tr v-for="i in rows+1">
	        		<td v-if="n == 0" v-for="n in cols">{{ i == 0 ? '' : i}}</td>
	        		<td v-if="i == 0 && n != 0" v-for="n in cols + 1">{{ n | convertChar }}</td>
	        		<td @click="placeShip($event)" data-cords="{{i + '' + n}}" v-on:mouseleave="setDef($event)" v-on:mouseover="changeStyle($event)" class="tile" v-if="i > 0" v-for="n in cols"></td>
	        	</tr>
        	</table>
      </template>
      <template id="opponent-board-template">
      		<table border="1">
	        	<tr v-for="i in rows+1">
	        		<td v-if="n == 0" v-for="n in cols">{{ i == 0 ? '' : i}}</td>
	        		<td v-if="i == 0 && n != 0" v-for="n in cols + 1">{{ n | convertChar }}</td>
	        		<td @click="fire($event)" class="tile" v-if="i > 0" v-for="n in cols"></td>
	        	</tr>
        	</table>
      </template>
    </div>
  </body>
  <script src="/socket.io-client/socket.io.js"></script>
  <script type="text/javascript" src="/vue/dist/vue.js"></script>
  <script type="text/javascript" src="/ship.js"></script>
</html>